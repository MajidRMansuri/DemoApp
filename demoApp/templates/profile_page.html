
{% extends 'base.html' %}

{% load static %}


{% block main_content %}

      
<!-- Content wrapper -->
<div class="content-wrapper">

    <!-- Content -->
    
      <div class="container-xxl flex-grow-1 container-p-y">
        
        
<h4 class="fw-bold py-3 mb-4">
<span class="text-muted fw-light">Details /</span> Basic Information Customer
</h4>

{% if profile_data.Master.Role.id == 1 %}
<div class="col-md-8">
    <div class="card mb-4">
      <h5 class="card-header">Customer</h5>
      <div class="card-body">
        <div class="form-floating">
          <input type="text" class="form-control" id="floatingInput" value="{{profile_data.Master.Email}}" aria-describedby="floatingInputHelp" readonly/>
          <label for="floatingInput">Email</label>
          <div id="floatingInputHelp" class="form-text">We'll never share your details with anyone else.</div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <ul class="nav nav-pills flex-column flex-md-row mb-3">
          <li class="nav-item"><a class="nav-link active" href="javascript:void(0);"><i class="bx bx-user me-1"></i> Account</a></li>
          <li class="nav-item"><a class="nav-link" href="pages-account-settings-notifications.html"><i class="bx bx-bell me-1"></i> Notifications</a></li>
          <li class="nav-item"><a class="nav-link" href="pages-account-settings-connections.html"><i class="bx bx-link-alt me-1"></i> Connections</a></li>
        </ul>
        <div class="card mb-4">
          <h5 class="card-header">Profile Details</h5>
          <!-- Account -->
          <div class="card-body">   
            
            <div class="d-flex align-items-start align-items-sm-center gap-4">
           
              <img src="{% if profile_data.ProfileImage %} {{profile_data.ProfileImage.url}} {% else %} {% static 'assets/img/avatars/1.png' %} {% endif %}" class="d-block rounded" height="100" width="100" id="uploadedAvatar" />
              <form action='{% url 'profile_image_upload' %}' method='post' onChange="this.submit()" enctype='multipart/form-data'>
              {% csrf_token %}
              <div class="button-wrapper">
                <label for="upload" class="btn btn-primary me-2 mb-4" tabindex="0">
                  <span class="d-none d-sm-block">Upload new photo</span>
                  <i class="bx bx-upload d-block d-sm-none"></i>
                  <input type="file" id="upload" name='profile_image' class="account-file-input" hidden accept="image/png, image/jpeg" />
                </label>
              </form>
              <a href='{% url 'profileImage_remove' %}'>
              <button type="button" class="btn btn-label-secondary account-image-reset mb-4">
                <i class="bx bx-reset d-block d-sm-none"></i>
                <span class="d-none d-sm-block">Reset</span>
              </button>
              </a>
                <p class="text-muted mb-0">Allowed JPG, GIF or PNG. Max size of 800K</p>
              </div>
            
            </div>
          </div>
          <hr class="my-0">
          <div class="card-body">
            
            <form id="formAccountSettings" method="POST" action='{% url 'update_basic_details_customer' %}'>
              {% csrf_token %}
              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="firstName" class="form-label">First Name</label>
                  <input class="form-control" name="fname" type="text" placeholder="First Name" value="{{profile_data.First_Name}}" id="html5-text-input" />
                </div>
                
                <div class="mb-3 col-md-6">
                  <label for="lastName" class="form-label">Last Name</label>
                  <input class="form-control" type="text" name="lname" placeholder="Last Name" value="{{profile_data.Last_Name}}" id="html5-text-input" />
                </div>
                <div class="mb-3 col-md-6">
                  <label for="email" class="form-label">Date of Birth</label>
                  <input class="form-control" type="date" name="dob" value="{{profile_data.DOB}}" id="html5-date-input" />
                </div>
                
                <div class="mb-3 col-md-6">
                  <label class="form-label" for="phoneNumber">Phone Number</label>
                  <div class="input-group input-group-merge">
                    <span class="input-group-text">India (+91)</span>
                    <input type="text" onkeypress="return /[0-9]/i.test(event.key)" id="phoneNumber" name="phonenumber" minlength="10" maxlength='10' value="{{profile_data.Contact}}" class="form-control" placeholder="123 456 7890" />
                  </div>
                </div>
                <div class="mb-3 col-md-6">
                  <label for="address" class="form-label">Address</label>
                  <input type="text" class="form-control" id="address" name="address" value="{{profile_data.Address}}" placeholder="Address" />
                </div>
                
                {% comment %} <div class="mb-3 col-md-6">
                  <label for="state" class="form-label">State</label>
                  <input class="form-control" type="text" id="state" name="state" placeholder="California" />
                </div> {% endcomment %}
                
                
                <div class="mb-3 col-md-6">
                  <label for="zipCode" class="form-label">Pin Code</label>
                  <input type="text" class="form-control" onkeypress="return /[0-9]/i.test(event.key)" id="zipCode" name="pincode" minlength="6" maxlength='6' value="{{profile_data.Pincode}}" placeholder="231465" maxlength="6" required/>
                </div>
                
                <div class="mb-3 col-md-6">
                  <label for="country" class="form-label">Country</label>
                  <select id="country" name='country' value='India' {% if profile_data.Country == profile_data.Country%}  selected {% endif %} class="form-select form-select-sm">
                    
                  </select>
                </div>
                <div class="mb-3 col-md-6">
                  <label for="language" class="form-label">State</label>
                  <select id="state" name='state' value='{{profile_data.State}}' {% if profile_data.State == profile_data.State %} selected {% endif %} class="form-select form-select-sm">
              
                  </select>
                </div>
                <div class="mb-3 col-md-6">
                  <label for="timeZones" class="form-label">City</label>
                  <select id="city" name='city' class="form-select form-select-sm"></select>
                </div>
                <div class="mb-3 col-md-6">
                  <label for="currency" class="form-label">Gender</label>
                  
                    {% comment %} <input  name="del" value='y' {% if profile_data.Del_Status == 'y' %} checked {% endif %} class="form-check-input" type="radio" id="defaultRadio1" />
                    <label style='tab-size: 4;' class="form-check-label" for="defaultRadio1">
                      Yes</t>
                    </label> {% endcomment %}
                    
                      <div style='margin-left:40px;' class="form-check mt-3">
                        <input name="gender" class="form-check-input" type="radio" value="m" {% if profile_data.Gender == 'm' %} checked {% endif %} id="defaultRadio1" />
                        <label class="form-check-label" for="defaultRadio1">
                          Male
                        </label>
                      </div>
                      <div style='margin-left:40px;' class="form-check">
                        <input name="gender" class="form-check-input" type="radio" value="f" {% if profile_data.Gender == 'f' %} checked {% endif %} id="defaultRadio2" />
                        <label class="form-check-label" for="defaultRadio2">
                          Female
                        </label>
                      </div>
                      
                    
                  
                </div>
              </div>
              <div class="mt-2">
                {% comment %} <button type="button" class="btn btn-primary me-2">Save changes</button> {% endcomment %}
                <input class="btn btn-primary me-2" value='Submit' type='submit'>
              </div>
            </form>
          </div>
          <!-- /Account -->
        </div>
        <div class="card">
          <h5 class="card-header">Delete Account</h5>
          <div class="card-body">
            <div class="mb-3 col-12 mb-0">
              <div class="alert alert-warning">
                <h6 class="alert-heading fw-bold mb-1">Are you sure you want to delete your account?</h6>
                <p class="mb-0">Once you delete your account, there is no going back. Please be certain.</p>
              </div>
            </div>
            
              <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" name="accountActivation" id="accountActivation" />
                <label class="form-check-label" for="accountActivation">I confirm my account deactivation</label>
              </div>
              <a href='{% url 'profile_remove' pk=profile_data.Master.id %}'><button type="submit" class="btn btn-danger deactivate-account">Deactivate Account</button></a>
            
          </div>
        </div>
      </div>
    </div>  
  </div>


{% endif %}

{% comment %} For ADMIN
{% if profile_data.Role.id == 3 %}
<div class="row">
<div class="col-md-6">
<div class="card mb-4">
  <h5 class="card-header">Admin</h5>
  <div class="card-body">
    <div>
      <label for="defaultFormControlInput" class="form-label">Name</label>
      <input type="text" class="form-control" id="defaultFormControlInput" value="{{profile_data.Email}}" placeholder="John Doe" aria-describedby="defaultFormControlHelp" />
      <div id="defaultFormControlHelp" class="form-text">We'll never share your details with anyone else.</div>
    </div>
  </div>
</div>
</div>
{% endif %} {% endcomment %}

{% if profile_data.Master.Role.id == 2 %}
<div class="col-md-8">
  <div class="card mb-4">
    <h5 class="card-header">Merchant</h5>
    <div class="card-body">
      <div class="form-floating">
        <input type="text" class="form-control" id="floatingInput" value="{{profile_data.Master.Email}}" placeholder="John Doe" aria-describedby="floatingInputHelp" readonly/>
        <label for="floatingInput">Email</label>
        <div id="floatingInputHelp" class="form-text">We'll never share your details with anyone else.</div>
      </div>
    </div>
  </div>


      


<div class="row">
  <div class="col-md-12">
    <ul class="nav nav-pills flex-column flex-md-row mb-3">
      <li class="nav-item"><a class="nav-link active" href="javascript:void(0);"><i class="bx bx-user me-1"></i> Account</a></li>
      <li class="nav-item"><a class="nav-link" href="pages-account-settings-notifications.html"><i class="bx bx-bell me-1"></i> Notifications</a></li>
      <li class="nav-item"><a class="nav-link" href="pages-account-settings-connections.html"><i class="bx bx-link-alt me-1"></i> Connections</a></li>
    </ul>
    <div class="card mb-4">
      <h5 class="card-header">Profile Details</h5>
      <!-- Account -->
      <div class="card-body">   
        
        <div class="d-flex align-items-start align-items-sm-center gap-4">
       
          <img src="{% if profile_data.ProfileImage %} {{profile_data.ProfileImage.url}} {% else %} {% static 'assets/img/avatars/1.png' %} {% endif %}" class="d-block rounded" height="100" width="100" id="uploadedAvatar" />
          <form action='{% url 'profile_image_upload' %}' method='post' onChange="this.submit()" enctype='multipart/form-data'>
          {% csrf_token %}
          <div class="button-wrapper">
            <label for="upload" class="btn btn-primary me-2 mb-4" tabindex="0">
              <span class="d-none d-sm-block">Upload new photo</span>
              <i class="bx bx-upload d-block d-sm-none"></i>
              <input type="file" id="upload" name='profile_image' class="account-file-input" hidden accept="image/png, image/jpeg" />
              
            </label>
            </form>

            <a href='{% url 'profileImage_remove' %}'>
              <button type="button" class="btn btn-label-secondary account-image-reset mb-4">
                <i class="bx bx-reset d-block d-sm-none"></i>
                <span class="d-none d-sm-block">Reset</span>
              </button>
            </a>
          
            <p class="text-muted mb-0">Allowed JPG, GIF or PNG. Max size of 800K</p>
          </div>
        
        </div>
      </div>
      <hr class="my-0">
      <div class="card-body">
        <form id="formAccountSettings" method="POST" action='{% url 'update_basic_details_merchant' %}'>
          {% csrf_token %}
          <div class="row">
            <div class="mb-3 col-md-6">
              <label for="firstName" class="form-label">Owner Name</label>
              <input class="form-control" name="oname" type="text" placeholder="Owner Name" value="{{profile_data.OwnerName}}" id="html5-text-input" />
            </div>
            
            <div class="mb-3 col-md-6">
              <label for="lastName" class="form-label">Shop Name</label>
              <input class="form-control" type="text" name="sname" placeholder="Shop Name" value="{{profile_data.ShopName}}" id="html5-text-input" />
            </div>
            <div class="mb-3 col-md-6">
              <label for="email" class="form-label">Date of Started</label>
              <input class="form-control" type="date" name="dos" value="{{profile_data.DOS}}" id="html5-date-input" />
            </div>
            <div class="mb-3 col-md-6">
              <label for="organization" class="form-label">Shop Type</label>
              <select name='shoptype' class="form-select" id="exampleFormControlSelect1" aria-label="Default select example" required>
          
                <option value=''>Open this select menu</option>
                {% for type in shop_type_data %}
                <option value="{{type.Shop_Types}}" {% if type.Shop_Types == profile_data.Shop_Types.Shop_Types %} selected {% endif %}>{{type.Shop_Types}}</option>
                {% endfor %}
              </select>
            </div>
            <div class="mb-3 col-md-6">
              <label class="form-label" for="phoneNumber">Phone Number</label>
              <div class="input-group input-group-merge">
                <span class="input-group-text">India (+91)</span>
                <input type="text" id="phoneNumber" onkeypress="return /[0-9]/i.test(event.key)" name="phonenumber" minlength="10" maxlength='10' value="{{profile_data.Contact}}" class="form-control" placeholder="123 456 7890" />
              </div>
            </div>
            <div class="mb-3 col-md-6">
              <label for="address" class="form-label">Address</label>
              <input type="text" class="form-control" id="address" name="address" value="{{profile_data.Address}}" placeholder="Address" />
            </div>
            
            {% comment %} <div class="mb-3 col-md-6">
              <label for="state" class="form-label">State</label>
              <input class="form-control" type="text" id="state" name="state" placeholder="California" />
            </div> {% endcomment %}
            
            
            <div class="mb-3 col-md-6">
              <label for="zipCode" class="form-label">Pin Code</label>
              <input type="text" class="form-control" onkeypress="return /[0-9]/i.test(event.key)" id="zipCode" minlength="6" maxlength='6' name="pincode" value="{{profile_data.Pincode}}" placeholder="231465" maxlength="6" required/>
            </div>
            
            <div class="mb-3 col-md-6">
              <label for="country" class="form-label">Country</label>
              <select id="country" name='country' value='{{profile_data.Country}}' {% if profile_data.Country == profile_data.Country%}  selected {% endif %} class="form-select form-select-sm">
                
              </select>
            </div>
            <div class="mb-3 col-md-6">
              <label for="language" class="form-label">State</label>
              <select id="state" name='state' value='{{profile_data.State}}' {% if profile_data.State == profile_data.State %} selected {% endif %} class="form-select form-select-sm">
          
              </select>
            </div>
            <div class="mb-3 col-md-6">
              <label for="timeZones" class="form-label">City</label>
              <select id="city" name='city' class="form-select form-select-sm"></select>
            </div>
            <div class="mb-3 col-md-6">
              <label for="currency" class="form-label">Personal Delivery</label>
              
                {% comment %} <input  name="del" value='y' {% if profile_data.Del_Status == 'y' %} checked {% endif %} class="form-check-input" type="radio" id="defaultRadio1" />
                <label style='tab-size: 4;' class="form-check-label" for="defaultRadio1">
                  Yes</t>
                </label> {% endcomment %}
                <div class="form-check form-switch mb-2">

                  <select name='del' class="form-select" id="exampleFormControlSelect1" aria-label="Default select example" required>
                    <option value=''>Open this select menu</option>
                    {% for del_type in del_type_data %}
                      <option value="{{del_type.Del_Status}}" {% if del_type.Del_Status == profile_data.Del_Status.Del_Status %}  selected {% endif %} >{% if del_type.Del_Status == 'y' %} Yes {% elif del_type.Del_Status == 'n'%} No {% endif %}</option>
                      {% comment %} <option value="n"  selected >No</option> {% endcomment %}
                    {% endfor %}
                  </select>
                  </div>
                
              
            </div>
          </div>
          <div class="mt-2">
            {% comment %} <button type="button" class="btn btn-primary me-2">Save changes</button> {% endcomment %}
            <input class="btn btn-primary me-2" value='Submit' type='submit'>
          </div>
        </form>
      </div>
      <!-- /Account -->
    </div>
    <div class="card">
      <h5 class="card-header">Delete Account</h5>
      <div class="card-body">
        <div class="mb-3 col-12 mb-0">
          <div class="alert alert-warning">
            <h6 class="alert-heading fw-bold mb-1">Are you sure you want to delete your account?</h6>
            <p class="mb-0">Once you delete your account, there is no going back. Please be certain.</p>
          </div>
        </div>
        {% comment %} <form id="formAccountDeactivation" method='post' action='#' > {% endcomment %}
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" name="accountActivation" id="accountActivation" required/>
            <label class="form-check-label" for="accountActivation" >I confirm my account deactivation</label>
          </div>
          <a href='{% url 'profile_remove' pk=profile_data.Master.id %}' ><button type="submit" class="btn btn-danger deactivate-account">Deactivate Account</button></a>
        {% comment %} </form> {% endcomment %}
      </div>
    </div>
  </div>
</div>


            
          </div>
          <!-- / Content -->

          {% endif %}
          
      
{% endblock main_content %}